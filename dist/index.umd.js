!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).index={})}(this,(function(t){"use strict";function e(t,e,r,a){let u,o=i(e,t,r.currentState);if(("enter"===t||"exit"===t)&&!o)return;if(r.currentState||(n(e.initialState,e,r,a),o=i(e,t,r.currentState)),!o)throw new Error(`Event ${t} not found in state ${r.currentState}`);"string"==typeof o?u=o:"function"==typeof o&&(u=o.call(null,r,a));let c=null;return Array.isArray(u)&&(u=u[0],c=u[1]),u&&n(u,e,r,a),c}function n(t,n,r,i){t!==r.currentState&&(e("exit",n,r,i),r.currentState=t,e("enter",n,r,i))}async function r(t,n,r,i){t!==r.currentState&&(await e("exit",n,r,i),r.currentState=t,await e("enter",n,r,i))}function i(t,e,n){return t.states[n]?.[e]}t.createState=function(t){return{currentState:"",...t}},t.trigger=e,t.triggerAsync=async function(t,e,n,a){let u,o=i(e,t,n.currentState);if(("enter"===t||"exit"===t)&&!o)return;if(n.currentState||(await r(e.initialState,e,n,a),o=i(e,t,n.currentState)),!o)throw new Error(`Event ${t} not found in state ${n.currentState}`);"string"==typeof o?u=o:"function"==typeof o&&(u=await o.call(null,n,a));let c=null;return Array.isArray(u)&&(u=u[0],c=u[1],a.data=c),u&&await r(u,e,n,a),c}}));
//# sourceMappingURL=index.umd.js.map

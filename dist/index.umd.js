!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).index={})}(this,(function(t){"use strict";function e(t,e,r,i){let u,o=a(e,t,r.currentState);if(("enter"===t||"exit"===t)&&!o)return;if(r.currentState||(n(e.initialState,e,r,i),o=a(e,t,r.currentState)),!o)throw new Error(`Event ${t} not found in state ${r.currentState}`);"string"==typeof o?u=o:"function"==typeof o&&(u=o.call(null,r,i));let c=null;Array.isArray(u)&&(u=u[0],c=u[1],i.data?i.data={...i.data,...c}:i.data={...c}),u&&n(u,e,r,i)}function n(t,n,r,a){t!==r.currentState&&(e("exit",n,r,a),r.currentState=t,e("enter",n,r,a))}async function r(t,n,r,a){t!==r.currentState&&(await e("exit",n,r,a),r.currentState=t,await e("enter",n,r,a))}function a(t,e,n){return t.states[n]?.[e]}t.createState=function(t){return{currentState:"",...t}},t.trigger=e,t.triggerAsync=async function(t,e,n,i){let u,o=a(e,t,n.currentState);if(("enter"===t||"exit"===t)&&!o)return;if(n.currentState||(await r(e.initialState,e,n,i),o=a(e,t,n.currentState)),!o)throw new Error(`Event ${t} not found in state ${n.currentState}`);"string"==typeof o?u=o:"function"==typeof o&&(u=await o.call(null,n,i));let c=null;Array.isArray(u)&&(u=u[0],c=u[1],i.data?i.data={...i.data,...c}:i.data={...c}),u&&await r(u,e,n,i)}}));
//# sourceMappingURL=index.umd.js.map

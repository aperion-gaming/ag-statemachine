!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).index={})}(this,(function(t){"use strict";function e(t,e,r,a){let o,u=i(e,t,r.currentState);if("enter"!==t&&"exit"!==t||u){if(r.currentState||(n(e.initialState,e,r,a),u=i(e,t,r.currentState)),!u)throw new Error(`Event ${t} not found in state ${r.currentState}`);"string"==typeof u?o=u:"function"==typeof u&&(o=u.call(null,r,a)),o&&n(o,e,r,a)}}function n(t,n,r,i){t!==r.currentState&&(e("exit",n,r,i),r.currentState=t,e("enter",n,r,i))}async function r(t,n,r,i){t!==r.currentState&&(await e("exit",n,r,i),r.currentState=t,await e("enter",n,r,i))}function i(t,e,n){return t.states[n]?.[e]}t.createState=function(t){return{currentState:"",...t}},t.trigger=e,t.triggerAsync=async function(t,e,n,a){let o,u=i(e,t,n.currentState);if("enter"!==t&&"exit"!==t||u){if(n.currentState||(await r(e.initialState,e,n,a),u=i(e,t,n.currentState)),!u)throw new Error(`Event ${t} not found in state ${n.currentState}`);"string"==typeof u?o=u:"function"==typeof u&&(o=await u.call(null,n,a)),o&&await r(o,e,n,a)}}}));
//# sourceMappingURL=index.umd.js.map

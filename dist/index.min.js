"use strict";function t(t,r,a,i){let u,c=n(r,t,a.currentState);if(("enter"===t||"exit"===t)&&!c)return;if(a.currentState||(e(r.initialState,r,a,i),c=n(r,t,a.currentState)),!c)throw new Error(`Event ${t} not found in state ${a.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=c.call(null,a,i));let o=null;return Array.isArray(u)&&(u=u[0],o=u[1]),u&&e(u,r,a,i),o}function e(e,r,n,a){e!==n.currentState&&(t("exit",r,n,a),n.currentState=e,t("enter",r,n,a))}async function r(e,r,n,a){e!==n.currentState&&(await t("exit",r,n,a),n.currentState=e,await t("enter",r,n,a))}function n(t,e,r){return t.states[r]?.[e]}exports.createState=function(t){return{currentState:"",...t}},exports.trigger=t,exports.triggerAsync=async function(t,e,a,i){let u,c=n(e,t,a.currentState);if(("enter"===t||"exit"===t)&&!c)return;if(a.currentState||(await r(e.initialState,e,a,i),c=n(e,t,a.currentState)),!c)throw new Error(`Event ${t} not found in state ${a.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=await c.call(null,a,i));let o=null;return Array.isArray(u)&&(u=u[0],o=u[1],i.data=o),u&&await r(u,e,a,i),o};
//# sourceMappingURL=index.min.js.map

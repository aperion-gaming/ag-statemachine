function t(t,e,r,a){let u,c=i(e,t,r.currentState);if(("enter"===t||"exit"===t)&&!c)return;if(r.currentState||(n(e.initialState,e,r,a),c=i(e,t,r.currentState)),!c)throw new Error(`Event ${t} not found in state ${r.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=c.call(null,r,a));let o=null;return Array.isArray(u)&&(u=u[0],o=u[1]),u&&n(u,e,r,a),o}function e(t){return{currentState:"",...t}}async function r(t,e,r,n){let u,c=i(e,t,r.currentState);if(("enter"===t||"exit"===t)&&!c)return;if(r.currentState||(await a(e.initialState,e,r,n),c=i(e,t,r.currentState)),!c)throw new Error(`Event ${t} not found in state ${r.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=await c.call(null,r,n));let o=null;return Array.isArray(u)&&(u=u[0],o=u[1],n.data=o),u&&await a(u,e,r,n),o}function n(e,r,n,a){e!==n.currentState&&(t("exit",r,n,a),n.currentState=e,t("enter",r,n,a))}async function a(e,r,n,a){e!==n.currentState&&(await t("exit",r,n,a),n.currentState=e,await t("enter",r,n,a))}function i(t,e,r){return t.states[r]?.[e]}export{e as createState,t as trigger,r as triggerAsync};
//# sourceMappingURL=index.esm.js.map

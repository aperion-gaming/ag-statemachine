function t(t,e,n,a){let u,c=i(e,t,n.currentState);if("enter"!==t&&"exit"!==t||c){if(n.currentState||(r(e.initialState,e,n,a),c=i(e,t,n.currentState)),!c)throw new Error(`Event ${t} not found in state ${n.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=c.call(null,n,a)),u&&r(u,e,n,a)}}function e(t){return{currentState:"",...t}}async function n(t,e,n,r){let u,c=i(e,t,n.currentState);if("enter"!==t&&"exit"!==t||c){if(n.currentState||(await a(e.initialState,e,n,r),c=i(e,t,n.currentState)),!c)throw new Error(`Event ${t} not found in state ${n.currentState}`);"string"==typeof c?u=c:"function"==typeof c&&(u=await c.call(null,n,r)),u&&await a(u,e,n,r)}}function r(e,n,r,a){e!==r.currentState&&(t("exit",n,r,a),r.currentState=e,t("enter",n,r,a))}async function a(e,n,r,a){e!==r.currentState&&(await t("exit",n,r,a),r.currentState=e,await t("enter",n,r,a))}function i(t,e,n){return t.states[n]?.[e]}export{e as createState,t as trigger,n as triggerAsync};
//# sourceMappingURL=index.esm.js.map
